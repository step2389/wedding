---
const links = [
  { href: "#hero", label: "Home" },
  { href: "#schedule", label: "Programma" },
  { href: "#gallery", label: "Foto" },
  { href: "#rsvp", label: "RSVP" },
];
---

<header class="fixed top-0 left-0 right-0 z-20 px-4 py-3 flex items-center justify-between bg-[var(--color-background)]/90 backdrop-blur">
    <div class="text-sm tracking-[0.25em] uppercase text-[#6c645b]">
      Anna & Stefano
    </div>

  <button id="menu-btn" class="w-8 h-8 flex flex-col justify-between">
    <span class="h-[2px] bg-[#3c3a35] rounded"></span>
    <span class="h-[2px] bg-[#3c3a35] rounded"></span>
    <span class="h-[2px] bg-[#3c3a35] rounded"></span>
  </button>
</header>

<nav
  id="menu"
  class="fixed inset-y-0 right-0 w-64 bg-[#f5e9db] shadow-lg
         transform translate-x-full transition-transform z-10 pt-20 px-6"
>
  <ul class="space-y-4 text-[15px]">
    {links.map((link) => (
      <li>
        <a
          href={link.href}
          class="block py-2 text-[#3c3a35] tracking-[0.15em] uppercase"
        >
          {link.label}
        </a>
      </li>
    ))}
  </ul>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("menu-btn");
    const menu = document.getElementById("menu");

    function openMenu() {
      menu.classList.remove("translate-x-full");
    }

    function closeMenu() {
      menu.classList.add("translate-x-full");
    }

    btn.addEventListener("click", () => {
      // se è chiuso, apri; se è aperto, chiudi
      if (menu.classList.contains("translate-x-full")) {
        openMenu();
      } else {
        closeMenu();
      }
    });

    // Chiudi quando clicchi un link del menu
    menu.addEventListener("click", (e) => {
      if (e.target.tagName === "A") {
        closeMenu();
      }
    });

    // Chiudi quando clicchi fuori dal menu
    document.addEventListener("click", (e) => {
      const clickInsideMenu = menu.contains(e.target);
      const clickOnButton = btn.contains(e.target);

      if (!clickInsideMenu && !clickOnButton) {
        closeMenu();
      }
    });
  });
</script>